{"ast":null,"code":"import _toConsumableArray from\"/home/eerik/Documents/level_4_project/src/ethics_form/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/home/eerik/Documents/level_4_project/src/ethics_form/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _defineProperty from\"/home/eerik/Documents/level_4_project/src/ethics_form/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _taggedTemplateLiteral from\"/home/eerik/Documents/level_4_project/src/ethics_form/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject;import React,{useEffect}from\"react\";import\"fontsource-roboto\";import{gql,useMutation}from\"@apollo/client\";import{useState}from\"react\";import{makeStyles}from\"@material-ui/core/styles\";import{Button,Card,Checkbox,Grid,Input,Typography}from\"@material-ui/core\";import{useParams}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CREATE_SIGNED_ETHICS_SHEET=gql(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  mutation ($username: String!){\\n    createSignedEthicsSheet(input: { signedEthicsSheet: { username: $username} }) {\\n      signedEthicsSheet {\\n        username\\n      }\\n    }\\n  }\\n\"])));var useStyles=makeStyles(function(theme){return{root:{background:\"linear-gradient(180deg, rgba(2,0,36,1) 0%, rgba(180,21,227,1) 25%, rgba(134,69,234,1) 54%, rgba(0,212,255,1) 100%)\",zIndex:-1,display:\"flex\",flexDirection:\"column\",minHeight:window.innerHeight,flexWrap:\"wrap\"},text:{textAlign:\"center\"},card:{boxShadow:theme.shadows[24],backgroundColor:\"rgba(255, 255, 255, 0.6)\"},grid:_defineProperty({padding:50,paddingBottom:0},theme.breakpoints.down(\"sm\"),{paddingLeft:10,paddingRight:10}),checkboxGrid:{padding:theme.spacing(2)}};});var ethicsGuidelines=[{prompt:\"The nature, purpose and duration of the research\",answer:\"This research aims to examine the effectiveness of collaborative activity trackers. Collaborative activity trackers are apps that let users monitor their exercise, whilst contributing towards some common goal. My activity tracker app implements collaboration through a fantasy game, which you will using in order to test the effectiveness of collaborative activity trackers, and my implementation of it. You will be invited to conduct a survey/interview after 2-3 weeks of using this app, unless you've withdrawn.\",buttonText:\"I understand the procedure and wish to be a part of it\"},{prompt:\"Procedures, risks, and benefits to the participants\",answer:\"By using this app you will track workouts and exercise performance. This app can be motivating to exercise, and motivate you to make change to your exercise habits. You should remember that exercise has inherent risks, and to mitigate this, you should conduct research from credible sources and/or consult a medical professional before making changes to my exercise habits.\",buttonText:\"I understand and will mitigate any risks\"},{prompt:\"Information about confidentiality and handling of data (including any sharing with third parties)\",answer:\"Your app usage data and survey/interview answers will be used as a part of the study. You can request the deletion of your data and withdraw at any time, and ask any questions by emailing saksi.eerik@gmail.com. Your data is NOT shared with any third parties.\",buttonText:\"I consent with my data being used and understand the withdrawal process\"},{prompt:\"Age policy\",answer:\"You must be over the age of 18 in order to participate\",buttonText:\"I am over 18\"}];function App(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var params=useParams();var _useState3=useState(new Array(ethicsGuidelines.length).fill(false)),_useState4=_slicedToArray(_useState3,2),checkboxState=_useState4[0],setCheckboxState=_useState4[1];var classes=useStyles();var _useMutation=useMutation(CREATE_SIGNED_ETHICS_SHEET,{variables:{username:username},onCompleted:function onCompleted(){}}),_useMutation2=_slicedToArray(_useMutation,1),createSignedEthicsSheet=_useMutation2[0];useEffect(function(){if(params&&params.username){setUsername(params.username);}},[params]);var agreed=checkboxState.every(function(check){return check;});return/*#__PURE__*/_jsxs(\"div\",{className:classes.root,children:[/*#__PURE__*/_jsx(Grid,{className:classes.grid,container:true,justify:\"center\",alignItems:\"center\",children:/*#__PURE__*/_jsxs(Card,{style:{padding:20},className:classes.card,children:[/*#__PURE__*/_jsx(Typography,{children:\"The username that you wish to use with Stat Buff\"}),/*#__PURE__*/_jsx(Grid,{container:true,justify:\"center\",alignItems:\"center\",children:/*#__PURE__*/_jsx(Input,{value:username,onChange:function onChange(_ref){var target=_ref.target;return setUsername(target.value);},placeholder:\"Username\"})})]})}),ethicsGuidelines.map(function(guideline,index){return/*#__PURE__*/_jsx(Grid,{className:classes.grid,container:true,justify:\"center\",alignItems:\"center\",children:/*#__PURE__*/_jsxs(Card,{className:classes.card,children:[/*#__PURE__*/_jsx(Grid,{container:true,justify:\"center\",alignItems:\"center\",children:/*#__PURE__*/_jsx(Typography,{className:classes.text,variant:\"h4\",children:guideline.prompt})}),/*#__PURE__*/_jsx(Grid,{container:true,justify:\"center\",alignItems:\"center\",children:/*#__PURE__*/_jsx(Typography,{className:classes.text,variant:\"h5\",children:guideline.answer})}),/*#__PURE__*/_jsxs(Grid,{className:classes.checkboxGrid,container:true,justify:\"center\",alignItems:\"center\",children:[/*#__PURE__*/_jsx(Checkbox,{value:checkboxState[index],onChange:function onChange(_ref2){var target=_ref2.target;return setCheckboxState(function(oldState){var copy=_toConsumableArray(oldState);copy[index]=target.checked;return copy;});}}),/*#__PURE__*/_jsx(Typography,{className:classes.text,variant:\"h5\",children:guideline.buttonText})]})]})},index);}),/*#__PURE__*/_jsx(Grid,{style:{paddingBottom:50},className:classes.grid,container:true,justify:\"center\",alignItems:\"center\",children:/*#__PURE__*/_jsx(Card,{className:classes.card,children:/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return createSignedEthicsSheet();},disabled:!agreed,color:\"primary\",variant:\"contained\",children:\"Submit ethics consent form\"})})})]});}export default App;","map":{"version":3,"sources":["/home/eerik/Documents/level_4_project/src/ethics_form/src/App.tsx"],"names":["React","useEffect","gql","useMutation","useState","makeStyles","Button","Card","Checkbox","Grid","Input","Typography","useParams","CREATE_SIGNED_ETHICS_SHEET","useStyles","theme","root","background","zIndex","display","flexDirection","minHeight","window","innerHeight","flexWrap","text","textAlign","card","boxShadow","shadows","backgroundColor","grid","padding","paddingBottom","breakpoints","down","paddingLeft","paddingRight","checkboxGrid","spacing","ethicsGuidelines","prompt","answer","buttonText","App","username","setUsername","params","Array","length","fill","checkboxState","setCheckboxState","classes","variables","onCompleted","createSignedEthicsSheet","agreed","every","check","target","value","map","guideline","index","oldState","copy","checked"],"mappings":"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","sourcesContent":["import React, {useEffect}  from \"react\";\nimport \"fontsource-roboto\";\nimport { gql, useMutation } from \"@apollo/client\";\nimport { useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Button, Card, Checkbox, Grid, Input, Typography } from \"@material-ui/core\";\nimport {useLocation, useParams} from \"react-router-dom\";\n\nconst CREATE_SIGNED_ETHICS_SHEET = gql`\n  mutation ($username: String!){\n    createSignedEthicsSheet(input: { signedEthicsSheet: { username: $username} }) {\n      signedEthicsSheet {\n        username\n      }\n    }\n  }\n`;\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    background: \"linear-gradient(180deg, rgba(2,0,36,1) 0%, rgba(180,21,227,1) 25%, rgba(134,69,234,1) 54%, rgba(0,212,255,1) 100%)\",\n    zIndex: -1,\n    display: \"flex\",\n    flexDirection: \"column\",\n    minHeight: window.innerHeight,\n    flexWrap: \"wrap\",\n  },\n  text: {\n    textAlign: \"center\",\n  },\n  card: {\n    boxShadow: theme.shadows[24],\n    backgroundColor: \"rgba(255, 255, 255, 0.6)\",\n  },\n  grid: {\n    padding: 50,\n    paddingBottom: 0,\n    [theme.breakpoints.down(\"sm\")]: {\n      paddingLeft: 10,\n      paddingRight: 10,\n    },\n  },\n  checkboxGrid: {\n    padding: theme.spacing(2),\n  },\n}));\n\nconst ethicsGuidelines = [\n  {\n    prompt: \"The nature, purpose and duration of the research\",\n    answer:\n      \"This research aims to examine the effectiveness of collaborative activity trackers. Collaborative activity trackers are apps that let users monitor their exercise, whilst contributing towards some common goal. My activity tracker app implements collaboration through a fantasy game, which you will using in order to test the effectiveness of collaborative activity trackers, and my implementation of it. You will be invited to conduct a survey/interview after 2-3 weeks of using this app, unless you've withdrawn.\",\n    buttonText: \"I understand the procedure and wish to be a part of it\",\n  },\n  {\n    prompt: \"Procedures, risks, and benefits to the participants\",\n    answer:\n      \"By using this app you will track workouts and exercise performance. This app can be motivating to exercise, and motivate you to make change to your exercise habits. You should remember that exercise has inherent risks, and to mitigate this, you should conduct research from credible sources and/or consult a medical professional before making changes to my exercise habits.\",\n    buttonText: \"I understand and will mitigate any risks\",\n  },\n  {\n    prompt: \"Information about confidentiality and handling of data (including any sharing with third parties)\",\n    answer:\n      \"Your app usage data and survey/interview answers will be used as a part of the study. You can request the deletion of your data and withdraw at any time, and ask any questions by emailing saksi.eerik@gmail.com. Your data is NOT shared with any third parties.\",\n    buttonText: \"I consent with my data being used and understand the withdrawal process\",\n  },\n  {\n    prompt: \"Age policy\",\n    answer: \"You must be over the age of 18 in order to participate\",\n    buttonText: \"I am over 18\",\n  },\n];\nfunction App() {\n  const [username, setUsername] = useState(\"\");\n  const params = useParams<{username: string}>()\n  const [checkboxState, setCheckboxState] = useState(new Array(ethicsGuidelines.length).fill(false));\n  const classes = useStyles();\n  const [createSignedEthicsSheet,] = useMutation(CREATE_SIGNED_ETHICS_SHEET, {\n    variables: { username },\n    onCompleted: () => {\n    }\n  });\n  useEffect(() => {\n    if (params && params.username){\n      setUsername(params.username)\n    }\n  }, [params])\n  const agreed = checkboxState.every((check) => check);\n  return (\n    <div className={classes.root}>\n      <Grid className={classes.grid} container justify=\"center\" alignItems=\"center\">\n        <Card style={{ padding: 20 }} className={classes.card}>\n          <Typography>The username that you wish to use with Stat Buff</Typography>\n          <Grid container justify=\"center\" alignItems=\"center\">\n            <Input value={username} onChange={({ target }) => setUsername(target.value)} placeholder=\"Username\" />\n          </Grid>\n        </Card>\n      </Grid>\n\n      {ethicsGuidelines.map((guideline, index) => (\n        <Grid key = {index} className={classes.grid} container justify=\"center\" alignItems=\"center\">\n          <Card className={classes.card}>\n            <Grid container justify=\"center\" alignItems=\"center\">\n              <Typography className={classes.text} variant=\"h4\">\n                {guideline.prompt}\n              </Typography>\n            </Grid>\n            <Grid container justify=\"center\" alignItems=\"center\">\n              <Typography className={classes.text} variant=\"h5\">\n                {guideline.answer}\n              </Typography>\n            </Grid>\n            <Grid className={classes.checkboxGrid} container justify=\"center\" alignItems=\"center\">\n              <Checkbox\n                value={checkboxState[index]}\n                onChange={({ target }) =>\n                  setCheckboxState((oldState) => {\n                    var copy = [...oldState];\n                    copy[index] = target.checked;\n                    return copy;\n                  })\n                }\n              />\n              <Typography className={classes.text} variant=\"h5\">\n                {guideline.buttonText}\n              </Typography>\n            </Grid>\n          </Card>\n        </Grid>\n      ))}\n      <Grid style={{ paddingBottom: 50 }} className={classes.grid} container justify=\"center\" alignItems=\"center\">\n        <Card className={classes.card}>\n          <Button onClick= {() => createSignedEthicsSheet()} disabled={!agreed} color=\"primary\" variant=\"contained\">\n            Submit ethics consent form\n          </Button>\n        </Card>\n      </Grid>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}