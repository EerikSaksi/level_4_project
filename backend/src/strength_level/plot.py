from scipy.optimize import curve_fit
import matplotlib.pyplot as plt
import numpy as np
from sklearn.svm import SVR
from sklearn.metrics import mean_absolute_error

x = [
    0.00025579130410351917,  0.0003807126386657029,  0.0005413257831027964,
    0.0007316821024356478,   0.000939884326705954, 0.00026938025009687973,
    0.00039329516514144435,  0.0005495357101976346,  0.0007327142802635127,
    0.0009320556653352037, 0.00028263855515208184, 0.00040660283372755633,
    0.0005603185391611446,  0.0007338685291668089,  0.0009222942326015302,
    0.0003005115785196539,  0.0004207162099275155,  0.0005686603716602682,
    0.000735097553609615,  0.0009200277557755559, 0.00031369725697055995,
    0.00043133372833451997,  0.0005751116377793599,  0.0007406740789582666,
    0.0009193072391776132,  0.0003272806825456515,  0.0004432788991441103,
    0.0005882766698921838,  0.0007498456144400371,  0.0009238429393377252,
    0.00033738011723434265,  0.0004564554527288165,  0.0005993458553221852,
    0.000758112969314817,  0.0009287876168568962,  0.0003521352102588106,
    0.00047078946588949684,  0.0006085815046864227,  0.0007693388832828364,
    0.0009377513751457458, 0.00036373615979323726,  0.0004825071507461311,
    0.0006235477025026924,  0.0007831462215956435,  0.0009501679276231504,
    0.00037972649213649095,  0.0004954526611685644,  0.0006364939296764039,
    0.000795617412095505,  0.0009619737800791104, 0.00039275224989324575,
    0.0005095164322939405,  0.0006510487745978126,   0.000810272659689669,
    0.000976573161896719,  0.0004064753844674254,  0.0005245964363639422,
    0.0006670365283568007,  0.0008233732146904258,   0.000990132346779626,
    0.00042084107830114143,  0.0005405926046469946,  0.0006808729640807085,
    0.0008416821566022829,  0.0010059128213051672,  0.0004357877957073403,
    0.0005540247945426651,  0.0006992873931117785,  0.0008580627915477862,
    0.0010235945899172412, 0.00044790387574376726,  0.0005715788265088373,
    0.00071530917469527,  0.0008757523540661717,   0.001042880665910861,
    0.00046382720983882534,  0.0005864101152962293,  0.0007321843812455744,
    0.0008912108531903144,  0.0010601764796316008, 0.00047680886711734717,
    0.0006017656736722381,  0.0007497408393293459,  0.0009108693530448632,
    0.0010785745407895853,  0.0004933586442783308,  0.0006175151242953942,
    0.0007645425348419166,  0.0009279063243380527,   0.001097804665414034,
    0.0005068246599972556,  0.0006335308249965696,  0.0007829791221752476,
    0.0009454229234564192,  0.0011176133528144612
]


y = [
    0, 20, 50, 80, 95,  0, 20, 50, 80, 95,  0, 20,
    50, 80, 95,  0, 20, 50, 80, 95,  0, 20, 50, 80,
    95,  0, 20, 50, 80, 95,  0, 20, 50, 80, 95,  0,
    20, 50, 80, 95,  0, 20, 50, 80, 95,  0, 20, 50,
    80, 95,  0, 20, 50, 80, 95,  0, 20, 50, 80, 95,
    0, 20, 50, 80, 95,  0, 20, 50, 80, 95,  0, 20,
    50, 80, 95,  0, 20, 50, 80, 95,  0, 20, 50, 80,
    95,  0, 20, 50, 80, 95,  0, 20, 50, 80, 95
]



for degs in range(20):
    fit = np.polyfit(x, y, degs)
    predictions = [np.polyval(fit, x_val) for x_val in x]
    print("{}, {}".format(degs, mean_absolute_error(predictions, y)))
